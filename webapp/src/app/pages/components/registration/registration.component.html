

<!-- main app container -->
<div class="mt-6 flex justify-center">
  <p class="text-xl font-bold ">Create an account</p>
</div>
<div class="  w-full mt-6  flex justify-center grid justify-items-start">

 
  <form [formGroup]="validateForm" (ngSubmit)="onSubmit()" >
    <div class="flex ">
      <div class="w-1/2 ">
        <div class="p-float-label" >
          <input
            id="firstname"
            type="text"
            pInputText
            formControlName="firstname"
            [style]="{width:'98%' }"
          />
          <label for="firstname">First name</label>
        </div>

        <div
          *ngIf="validateForm.controls['firstname'].invalid && (validateForm.controls['firstname'].dirty || validateForm.controls['firstname'].touched)"
           [style]="{ }">

          <div *ngIf="validateForm.controls['firstname'].errors?.['required']">
            <span style="color: red;"> First name is required </span>
          </div>
          <div *ngIf="validateForm.controls['firstname'].errors?.['minlength']">
            <span style="color: red;"> First name must be at least 4 characters long </span>
          </div>
          <div *ngIf="validateForm.controls['firstname'].errors?.['maxlength']">
            <span style="color: red;"> First name must be maximum 20 characters long </span>
          </div>
        </div>

      </div>
      <div class="w-1/2 ">
        
        <div class="p-float-label">
          <input
            id="lastname"
            type="text"
            pInputText
            formControlName="lastname"
            [style]="{width:'98%' }"
          />
          <label for="lastname"  class="justify-center" >Last name</label>
        </div>

        <div
          *ngIf="validateForm.controls['lastname'].invalid && (validateForm.controls['lastname'].dirty || validateForm.controls['lastname'].touched)"
          [style]="{}">

          <div *ngIf="validateForm.controls['lastname'].errors?.['required']">
            <span style="color: red;">  Last name is required </span>
          </div>
          <div *ngIf="validateForm.controls['lastname'].errors?.['minlength']">
            <span style="color: red;"> Last name must be at least 4 characters long </span>
          </div>
          <div *ngIf="validateForm.controls['lastname'].errors?.['maxlength']">
            <span style="color: red;"> Last name must be maximum 20 characters long </span>
          </div>
        </div>
      </div>
    </div>
      <div class="w-full mt-2  ">

        <div class="p-float-label">
          <input
            id="email"
            type="text"
            pInputText
            formControlName="email"
            [style]="{ width:'100%'}"
          />
          <label for="email">Email</label>
        </div>

        <div
          *ngIf="validateForm.controls['email'].invalid && (validateForm.controls['email'].dirty || validateForm.controls['email'].touched)"
          >

          <div *ngIf="validateForm.controls['email'].errors?.['required']">
            <span style="color: red;"> Email is required </span>
          </div>
          <!-- <div *ngIf="validateForm.controls['email'].errors?.['email']">
            <span style="color: red;"> Invalid Email </span>
          </div> -->
          <div *ngIf="validateForm.controls['email'].errors?.['pattern']">

            <!-- <span style="color: red;">  Invalid Email </span> -->

            <span style="color: red;">  Invalid Email format </span>

          </div>
        </div>
      
    </div>
    <div class="w-full mt-2 " >
      <div class="p-float-label">
        <input
          id="username"
          type="text"
          pInputText
          formControlName="username"
          [style]="{width:'100%' }"
        />
        <label for="username">Username</label>
      </div>
      <div
        *ngIf="validateForm.controls['username'].invalid && (validateForm.controls['username'].dirty || validateForm.controls['username'].touched)"
        >

        <div *ngIf="validateForm.controls['username'].errors?.['required']">
          <span style="color: red;"> Username is required</span>
        </div>
        <div *ngIf="validateForm.controls['username'].errors?.['minlength']">
          <span style="color: red;"> Username must be at least 4 characters </span>
        </div>
        <div *ngIf="validateForm.controls['username'].errors?.['maxlength']">
          <span style="color: red;"> Username must be maximum 20 characters </span>
        </div>
      </div>
    </div>
    <div class="flex  mt-2 ">
      <div class="w-1/2 "  >
        <div class="p-float-label" >
          <p-password id="password"  type="password" formControlName="password" 
          [toggleMask]="true"
          [feedback]="true" >
            <ng-template pTemplate="header">
              <h6>Create a password</h6>
            </ng-template>
            <ng-template pTemplate="footer">

              <p class="mt-2">To create a strong password:</p>
              <ul class="pl-2 ml-2 mt-0" style="line-height: 1.5">
                <li>At least one lowercase letter</li>
                <li>At least one uppercase letter</li>
                <li>At least one numeric letter</li>
                <li>Minimum 8 characters</li>
              </ul>
            </ng-template>
          </p-password>
          <label for="password">Password</label>
        </div>
        <div
          *ngIf="validateForm.controls['password'].invalid && (validateForm.controls['password'].dirty || validateForm.controls['password'].touched)"
          >

          <div *ngIf="validateForm.controls['password'].errors?.['required']">
            <span style="color: red;"> Password is required </span>
          </div>
          <div *ngIf="validateForm.controls['password'].errors?.['minlength']">
            <span style="color: red;"> Enter at at least 8 characters </span>
          </div>
          <div *ngIf="validateForm.controls['password'].errors?.['maxlength']">
            <span style="color: red;">Enter at maximum 20 characters  </span>
          </div>
        </div>
    
      </div>
      <div class="w-1/2 "  >
        <div class="p-float-label" >
          <p-password id="checkPassword"  formControlName="checkPassword" [toggleMask]="true"
          [feedback]="false" p-password-meter></p-password>
          <label for="checkPassword">Confirm Password</label>
        </div>
     

      <div
        *ngIf="validateForm.controls['checkPassword'].invalid && (validateForm.controls['checkPassword'].dirty || validateForm.controls['checkPassword'].touched)"
       >

        <div *ngIf="validateForm.controls['checkPassword'].errors?.['required']">
          <span style="color: red;">Password is required</span>
        </div>
        <div *ngIf="validateForm.controls['checkPassword'].errors?.['minlength']">
          <span style="color: red;">  Enter at least 8 characters </span>
        </div>
        <div *ngIf="validateForm.controls['checkPassword'].errors?.['maxlength']">
          <span style="color: red;">  Enter at maximum 20 characters </span>
        </div>
        <div *ngIf="validateForm.controls['checkPassword'].errors?.['confirmedValidator']">
          <span style="color: red;"> Passwords do not match </span></div>
      </div>
    
      </div>
    </div>
<div class="mt-2 ">
  <p class="text-sm ...">We respect your privacy. Please read <a href="/privacy" class="text-sky-600">here</a> to learn more about our Privacy Policy.</p>
</div>
<div class="w-full mt-2 ">
  <button
  pButton
  [ngStyle]="{ backgroundColor: '#EA580C'}"
  type="button"
  label="Sign Up"
  type="submit"
  [style]="{width:'100%' }"
 ></button>
 <div style="color: red;" *ngIf="isSignUpFailed">
  Sign Up unsuccessful<br/>{{ errorMessage }}
</div>
</div>
<div style="text-align: center;
margin: 1rem;" >
  Already have an account?  <a [routerLink]="[login]" style="color: #0277BD;"> Login</a><br/>
</div>

  </form>
</div>