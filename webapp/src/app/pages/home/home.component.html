<div class="flex flex-row min-h-screen">
  <div class="flex-col">
    <app-sidebar></app-sidebar>
  </div>

  <div class="md:container md:mx-auto">
    <ng-container *ngIf="courses && courses.length">
      <!-- Section for each role -->
      <ng-container *ngFor="let role of sections">
        <div *ngIf="hasCoursesForRole(role)">
          <p class="leading-normal mt-6 px-4" style="display: flex; align-items: center; cursor: pointer;">
            <i class="pi pi-angle-down" style="margin-right: 8px;"></i>
            <img *ngIf="role === 'teaching'" src="../../../assets/icons/teacher-icon-black.png" alt="" width="25px">
            <i *ngIf="role === 'enrolled'" class="pi pi-graduation-cap" style="margin-right: 8px;"></i>
            {{ role === 'enrolled' ? 'Enrolled' : 'Teaching' | titlecase }}
          </p>
          <div class="overscroll-y-auto h-1/2 flex flex-wrap">
            <!-- Get courses by current role -->
            <div *ngFor="let course of getCoursesByRole(role)">
              <p-card styleClass="p-card-shadow" class="course-card relative">
                <span class="badge">{{course?.role?.split('_')?.join(' ')}}</span>
                <hr style="margin-bottom: 0.75rem; margin-top: 0%" />
                <ng-template pTemplate="header">
                  <img
                    alt="Card"
                    class="cursor-pointer"
                    src="/assets/img/courseCard.png"
                    (click)="onSelectCourse(course)"
                  />
                </ng-template>

                <ng-template pTemplate="content-center" style="float: left">
                  <div class="w-full h-14 mb-3 flex items-start justify-between">
                    <div class="flex items-center">
                      <p-avatar
                        label="{{ course.shortName }}"
                        shape="circle"
                        size="large"
                        [style]="{
                          'background-color': '#0369A1',
                          color: '#ffffff',
                          float: 'left'
                        }"
                      ></p-avatar>

                      <p class="font-medium text-xl pl-3">
                        {{ course.name }}
                      </p>
                    </div>

                    <!-- 3-Dot Menu -->
                    <div class="card flex justify-content-center">
                      <p-menu
                        #menu
                        [model]="course.menuItems || []"
                        [popup]="true"
                        appendTo="body"
                  />
                      <p-button
                        (onClick)="menu.toggle($event)"
                        icon="pi pi-ellipsis-v"
                        styleClass="p-button-text"
                  />
                    </div>
                  </div>

                  <p class="p" style="display: flex;">
                    <img src="../../../assets/icons/teacher-icon.png" alt="" width="25px">
                    <span class="pl-1">
                      Created by: {{ course.firstName }} {{ course.lastName }}
                    </span>
                  </p>

                  <p class="p" style="margin-left: 4px">
                    <i
                      class="pi pi-calendar"
                      style="font-size: 1rem; color: #ea580c"
                    ></i>
                    <span class="pl-1">
                      Created on: {{ course.createdAt | date : "d MMMM yyyy" }}
                    </span>
                  </p>
                </ng-template>
              </p-card>
            </div>
          </div>
        </div>
      </ng-container>
    </ng-container>

    <!-- Message when no courses are enrolled -->
    <div *ngIf="!courses || courses.length === 0">
      <p class="text-5xl leading-normal font-bold text-center mt-6">
        Currently you have no courses enrolled.
      </p>
      <p class="text-4xl leading-normal text-center mt-6">
        <a href="landingPage" style="color: #0277bd"> Click here</a> to search
        for courses to start learning!
      </p>
    </div>
  </div>
</div>

<app-footer></app-footer>
<p-confirmDialog></p-confirmDialog>
<!-- <div class="row">
        <div class="column" style="background-color:#aaa;">
          <h2>Column 1</h2>
          <p>Some text..</p>
        </div>
        <div class="column" style="background-color:#bbb;">
          <h2>Column 2</h2>
          <p>Some text..</p>
        </div>
        <div class="column" style="background-color:#ccc;">
          <h2>Column 3</h2>
          <p>Some text..</p>
        </div>
      </div>
       -->
